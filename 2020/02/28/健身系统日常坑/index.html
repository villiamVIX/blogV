<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="VUE中监听输入框对焦1234$   &lt;textaera @focus&#x3D;&#39;方法1&#39; @blur&#x3D;&#39;方法2&#39;&gt;...$   &lt;script&gt;$           监听 方法1&#x2F;2$	&lt;&#x2F;script&gt; 取消移动端输入框&#x2F;按钮默认样式直接加载app.js上 1$   -webkit-appearance: none;  全局变量因为接口的域名在上云后需要变动，在数">
<meta property="og:type" content="article">
<meta property="og:title" content="健身系统日常坑">
<meta property="og:url" content="http://yoursite.com/2020/02/28/%E5%81%A5%E8%BA%AB%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%B8%B8%E5%9D%91/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="VUE中监听输入框对焦1234$   &lt;textaera @focus&#x3D;&#39;方法1&#39; @blur&#x3D;&#39;方法2&#39;&gt;...$   &lt;script&gt;$           监听 方法1&#x2F;2$	&lt;&#x2F;script&gt; 取消移动端输入框&#x2F;按钮默认样式直接加载app.js上 1$   -webkit-appearance: none;  全局变量因为接口的域名在上云后需要变动，在数">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-02-28T15:34:12.000Z">
<meta property="article:modified_time" content="2020-03-27T15:02:38.171Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2020/02/28/健身系统日常坑/"/>





  <title>健身系统日常坑 | Hexo</title>
  








<meta name="generator" content="Hexo 4.2.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hexo</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/02/28/%E5%81%A5%E8%BA%AB%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%B8%B8%E5%9D%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">健身系统日常坑</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-02-28T23:34:12+08:00">
                2020-02-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="VUE中监听输入框对焦"><a href="#VUE中监听输入框对焦" class="headerlink" title="VUE中监听输入框对焦"></a>VUE中监听输入框对焦</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$   &lt;textaera @focus=<span class="string">'方法1'</span> @blur=<span class="string">'方法2'</span>&gt;...</span><br><span class="line">$   &lt;script&gt;</span><br><span class="line">$           监听 方法<span class="number">1</span>/<span class="number">2</span></span><br><span class="line">$	&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="取消移动端输入框-按钮默认样式"><a href="#取消移动端输入框-按钮默认样式" class="headerlink" title="取消移动端输入框/按钮默认样式"></a>取消移动端输入框/按钮默认样式</h2><p>直接加载app.js上</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$   -webkit-appearance: none;</span><br></pre></td></tr></table></figure>

<h2 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h2><h3 id="因为接口的域名在上云后需要变动，在数据库中修改又麻烦，干脆后台在传图片地址的时候-只返回-除了域名的后半段路径"><a href="#因为接口的域名在上云后需要变动，在数据库中修改又麻烦，干脆后台在传图片地址的时候-只返回-除了域名的后半段路径" class="headerlink" title="因为接口的域名在上云后需要变动，在数据库中修改又麻烦，干脆后台在传图片地址的时候 只返回[除了域名的后半段路径]"></a>因为接口的域名在上云后需要变动，在数据库中修改又麻烦，干脆后台在传图片地址的时候 只返回[除了域名的后半段路径]</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="string">'http://192.168.1.104:3008/user/adb/ccd'</span> ==&gt; <span class="string">'/user/abd/ccd'</span></span><br><span class="line">   前半段在前端的全局变量中保存好如下 </span><br><span class="line">$  #本地调试</span><br><span class="line">  <span class="keyword">const</span> baseUrl = <span class="string">'http://192.168.1.104:3008'</span></span><br><span class="line">#上云</span><br><span class="line">  <span class="keyword">const</span> baseUrl= <span class="string">'http://106.53.7.24:3008'</span></span><br></pre></td></tr></table></figure>

<h3 id="如何设置全局变量"><a href="#如何设置全局变量" class="headerlink" title="如何设置全局变量"></a>如何设置全局变量</h3><p> $ 在有网络请求的文件夹下新建=&gt;global.vue</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">global.vue中</span><br><span class="line">      &lt;script&gt;</span><br><span class="line">      	#本地调试</span><br><span class="line">      	  <span class="keyword">const</span> baseUrl = <span class="string">'http://192.168.1.104:3008'</span></span><br><span class="line">      	#上云</span><br><span class="line">      	  <span class="keyword">const</span> baseUrl= <span class="string">'http://106.53.7.24:3008'</span>  </span><br><span class="line">          export default &#123;  #导出</span><br><span class="line">          	baseUrl</span><br><span class="line">          &#125;</span><br><span class="line">      &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">-------	</span></span><br><span class="line"><span class="regexp">main.js中 将global加入原型链上</span></span><br><span class="line"><span class="regexp">	  import Global_ from './</span>network/Global<span class="string">'  #全局变量</span></span><br><span class="line"><span class="string">	  </span></span><br><span class="line"><span class="string">	  Vue.prototype.GLOBAL = Global_          #挂载到Vue实例上面</span></span><br><span class="line"><span class="string">------	  </span></span><br><span class="line"><span class="string">在项目data中</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">      baseUrl: this.GLOBAL.baseUrl,</span></span><br><span class="line"><span class="string">	  </span></span><br><span class="line"><span class="string">	  &lt;img :src='</span>baseUrl+item.img<span class="string">'&gt; .....各种地方使用</span></span><br></pre></td></tr></table></figure>
<p> $ 酱紫 要是接口变了 改一下baseUrl就行  一个一个去找去改太累</p>
<h2 id="watch属性监听VUEX中的内容"><a href="#watch属性监听VUEX中的内容" class="headerlink" title="watch属性监听VUEX中的内容"></a>watch属性监听VUEX中的内容</h2><h3 id="因为页面加载的时候比vuex-dispatch走一圈直到保存到state下来快多了"><a href="#因为页面加载的时候比vuex-dispatch走一圈直到保存到state下来快多了" class="headerlink" title="因为页面加载的时候比vuex dispatch走一圈直到保存到state下来快多了"></a>因为页面加载的时候比vuex dispatch走一圈直到保存到state下来快多了</h3><h3 id="所以-在进news详情子组件时，还无法分发state中的news信息"><a href="#所以-在进news详情子组件时，还无法分发state中的news信息" class="headerlink" title="所以 在进news详情子组件时，还无法分发state中的news信息"></a>所以 在进news详情子组件时，还无法分发state中的news信息</h3><h3 id="在需要数据的组件中使用-watch-监听news是否改变-gt-若改变重新调用数据分发事件-驱动DOM重新加载"><a href="#在需要数据的组件中使用-watch-监听news是否改变-gt-若改变重新调用数据分发事件-驱动DOM重新加载" class="headerlink" title="在需要数据的组件中使用[watch]监听news是否改变==&gt;若改变重新调用数据分发事件 驱动DOM重新加载"></a>在需要数据的组件中使用[watch]监听news是否改变==&gt;若改变重新调用数据分发事件 驱动DOM重新加载</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ watch:&#123;</span><br><span class="line">	<span class="string">'$store.state.news'</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		this.distributeNews()                   #重新分发的方法</span><br><span class="line">	&#125;</span><br><span class="line">&#125;，</span><br><span class="line">methods:&#123;</span><br><span class="line">	distributeNews()&#123;</span><br><span class="line">		<span class="keyword">this</span>.news=$store.state.news</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="发布帖子-★-★-★-★-★"><a href="#发布帖子-★-★-★-★-★" class="headerlink" title="发布帖子  ★ ★ ★ ★ ★"></a>发布帖子  ★ ★ ★ ★ ★</h2><h3 id="node需要express-fileUpload中间件"><a href="#node需要express-fileUpload中间件" class="headerlink" title="node需要express-fileUpload中间件"></a>node需要express-fileUpload中间件</h3><p>const fileUpload=require(‘express-fileupload’)<br>app.use(fileUpload());</p>
<h3 id="前端页面中使用-vant-的-Uploader组件链接"><a href="#前端页面中使用-vant-的-Uploader组件链接" class="headerlink" title="前端页面中使用[vant]的 Uploader组件链接"></a>前端页面中使用[vant]的 <a href="https://youzan.github.io/vant/?source=vuejsorg#/zh-CN/uploader" target="_blank" rel="noopener">Uploader组件链接</a></h3><p>流程：页面上传文本/图片 -&gt; action去调用NetNews接口组件 -&gt; 后台用(req.files)取图片/(req.body)取文本和发布者信息 ↓</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">     <span class="keyword">var</span> time</span><br><span class="line">     for (var i in files) &#123; #遍历传来的图片</span><br><span class="line">     	<span class="keyword">let</span> img = files[i]</span><br><span class="line">     	let md5Name = img.md5   #用MD5串当名字以免重复</span><br><span class="line">     	let type = img.mimetype.split('/')[1]   #用分割符分出格式</span><br><span class="line">     	var Url = '/images/news/' + md5Name + '.' + type  #写下存储路径 后面方便给接口</span><br><span class="line">     	data.imgs[i] = Url          #把接口塞进数组</span><br><span class="line"># mv移动文件方法</span><br><span class="line">     	img.mv(<span class="string">'public/images/news/'</span> + md5Name + <span class="string">'.'</span> + type, err =&gt; &#123;</span><br><span class="line">     		<span class="keyword">if</span> (err) &#123;...&#125;</span><br><span class="line">	</span><br><span class="line">     		clearTimeout(time)</span><br><span class="line">     		time = setTimeout(() =&gt; &#123;   #循环结束后调用新建新闻方法</span><br><span class="line">     			News.create(data)</span><br><span class="line">     				.then(<span class="function"><span class="params">doc</span> =&gt;</span> &#123;</span><br><span class="line">     					<span class="keyword">return</span> res.json(&#123;</span><br><span class="line">     						status: <span class="number">200</span>,</span><br><span class="line">     						data: doc</span><br><span class="line">     					&#125;)</span><br><span class="line">     				&#125;)</span><br><span class="line">     				.catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">     					<span class="keyword">return</span> res.json(&#123;</span><br><span class="line">     						status: <span class="number">500</span>,</span><br><span class="line">     						msg: err</span><br><span class="line">     					&#125;)</span><br><span class="line">     				&#125;);</span><br><span class="line">     		&#125;, <span class="number">100</span>)</span><br><span class="line">     	&#125;)</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure>

<h2 id="node中设置全局变量"><a href="#node中设置全局变量" class="headerlink" title="node中设置全局变量"></a>node中设置全局变量</h2><h3 id="线上线下各备一个"><a href="#线上线下各备一个" class="headerlink" title="线上线下各备一个"></a>线上线下各备一个</h3><p>global.baseURL=”106.53.7.24:3008”<br>global.baseURL=”192.168.1.104:3008”</p>
<h2 id="对象转数组"><a href="#对象转数组" class="headerlink" title="对象转数组"></a>对象转数组</h2><p>因为req.files传进来是Obj状态 后面不好遍历存入，遂先把对象转为数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$   let files = [] #把对象转成数组</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">let</span> u <span class="keyword">in</span> req.files) &#123;</span><br><span class="line">		files.push(req.files[u])</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<h2 id="手写上拉加载"><a href="#手写上拉加载" class="headerlink" title="手写上拉加载"></a>手写上拉加载</h2><h3 id="逻辑"><a href="#逻辑" class="headerlink" title="逻辑"></a>逻辑</h3><ol>
<li><p>点下时触发 @touchstart =&gt; 记录起始[点击位置] e.touches[0].clientY</p>
</li>
<li><p>滑动时@touchmove监听滑动 =&gt;{</p>
<pre><code>先判断是否是底页，若底页 return掉</code></pre><p> (1).判断是否滑到底 滑到底 开启正在上拉isMoving=true图标<br> (2).记录滑动区间 = 结束的clientY - 1的起始clientY<br>}</p>
</li>
<li><p>滑动结束触发@touchend  =&gt;{</p>
<pre><code>先判断是否在底页||在加载状态</code></pre><p> (1). 2中记录的滑动区间若小于40 关闭正在上拉isMoving=false图标   #起到缓一缓的作用?<br> (2). 滑动区间若大于40 先判断是否是到底了,若到底 =&gt; 关闭上拉图标 / 显示加载图标 /emit加载更多给父组件<br> (3).清空 起始/滑动区间的值<br>}</p>
<h3 id="判断是否到底"><a href="#判断是否到底" class="headerlink" title="判断是否到底"></a>判断是否到底</h3><ol>
<li><p>为了兼容 document.documentElement.scrollTop==window.pageYOffset<br>都是返回视口左上角距离页面顶部的距离 或者说是滚动距离</p>
</li>
<li><p>document.documentElement.clientHeight;<br>返回屏幕视窗高度</p>
</li>
<li><p>document.body.scrollHeight;<br>全部内容的高度</p>
</li>
</ol>
</li>
</ol>
<p>滚动条到底部的条件=屏幕高度+滚动高度==全部内容高度  即是滚到底了返回boolean</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">scrollToTheEnd() &#123;  </span><br><span class="line">    <span class="keyword">let</span> scrollTop = <span class="built_in">document</span>.documentElement.scrollTop || <span class="built_in">window</span>.pageYOffset <span class="comment">// 滚动的距离</span></span><br><span class="line">    <span class="keyword">let</span> viewHeight = <span class="built_in">document</span>.documentElement.clientHeight;                  <span class="comment">// 可视区域高度</span></span><br><span class="line">    <span class="keyword">let</span> offsetHeight = <span class="built_in">document</span>.body.scrollHeight;                           <span class="comment">// 内容高度</span></span><br><span class="line">    <span class="comment">// 滚动条到底部的条件</span></span><br><span class="line">    <span class="keyword">return</span> (viewHeight + scrollTop) &gt;= offsetHeight  <span class="comment">//等于即可</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>


<h2 id="git上传"><a href="#git上传" class="headerlink" title="git上传"></a>git上传</h2><h3 id="新建项目"><a href="#新建项目" class="headerlink" title="新建项目"></a>新建项目</h3><p>…or create a new repository on the command line<br>echo “# gym-server” &gt;&gt; README.md<br>git init<br>git add README.md<br>git commit -m “first commit”<br>git remote add origin <a href="https://github.com/villiamVIX/gym-server.git" target="_blank" rel="noopener">https://github.com/villiamVIX/gym-server.git</a><br>git push -u origin master</p>
<h3 id="已有的项目"><a href="#已有的项目" class="headerlink" title="已有的项目"></a>已有的项目</h3><p>…or push an existing repository from the command line<br>git remote add origin <a href="https://github.com/villiamVIX/gym-server.git" target="_blank" rel="noopener">https://github.com/villiamVIX/gym-server.git</a><br>git push -u origin master</p>
<h2 id="axios响应拦截错误码"><a href="#axios响应拦截错误码" class="headerlink" title="axios响应拦截错误码"></a>axios响应拦截错误码</h2><h3 id="直接在axios将错误拦截下来，关口前移；总比在action里用promise返回reject时尚一点"><a href="#直接在axios将错误拦截下来，关口前移；总比在action里用promise返回reject时尚一点" class="headerlink" title="直接在axios将错误拦截下来，关口前移；总比在action里用promise返回reject时尚一点"></a>直接在axios将错误拦截下来，关口前移；总比在action里用promise返回reject时尚一点</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">  VIX1.interceptors.response.use(</span><br><span class="line">res =&gt;res.data,     <span class="comment">//正常数据吐出去  下面不正常状态码拦截下来统一用vant的提醒框处理</span></span><br><span class="line">error =&gt; &#123;</span><br><span class="line">	<span class="keyword">switch</span> (error.response.status) &#123;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">404</span>:</span><br><span class="line">			<span class="keyword">this</span>.items = [];</span><br><span class="line">			<span class="keyword">this</span>.totalItems = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">500</span>:</span><br><span class="line">			Notify(<span class="string">'提示'</span>)</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">401</span>:</span><br><span class="line">			<span class="keyword">return</span> Notify(<span class="string">'未登录'</span>)</span><br><span class="line">			<span class="keyword">break</span>;	</span><br><span class="line">		<span class="keyword">case</span> <span class="number">403</span>:</span><br><span class="line">			<span class="keyword">return</span> Notify(<span class="string">'权限不足'</span>)</span><br><span class="line">			<span class="keyword">break</span>;		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="局部过滤器fliter"><a href="#局部过滤器fliter" class="headerlink" title="局部过滤器fliter"></a>局部过滤器fliter</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;td&gt;&#123;&#123;tr._id | idFormat&#125;&#125;&lt;<span class="regexp">/td&gt;                  /</span><span class="regexp">/在胡子里面用|分开</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">methods:&#123;</span></span><br><span class="line"><span class="regexp">	filters: &#123;</span></span><br><span class="line"><span class="regexp">		idFormat(id) &#123;</span></span><br><span class="line"><span class="regexp">			return id.substring(id.length - 5)   /</span><span class="regexp">/用substring切后五位 后返回</span></span><br><span class="line"><span class="regexp">		&#125;</span></span><br><span class="line"><span class="regexp">	&#125;,</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="css省略超出字用…代替"><a href="#css省略超出字用…代替" class="headerlink" title="css省略超出字用…代替"></a>css省略超出字用…代替</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">td p &#123;</span><br><span class="line">		 width: <span class="number">100</span>px;</span><br><span class="line">		 overflow: hidden;　　　　　　　　<span class="comment">/*对超出容器的部分强制截取，高度不确定则换行*/</span></span><br><span class="line">		 text-overflow: ellipsis;　　　　<span class="comment">/*显示省略符号来代表被修剪的文本。*/</span></span><br><span class="line">		 white-space: nowrap;　　　　　　<span class="comment">/*禁止换行*/</span></span><br><span class="line">	&#125;</span><br><span class="line"><span class="comment">//省略多行</span></span><br><span class="line">	&#123;</span><br><span class="line">		text-overflow: ellipsis;   <span class="comment">//写不写都可以</span></span><br><span class="line">		display: -webkit-box;</span><br><span class="line">		-webkit-box-orient: vertical;</span><br><span class="line">		-webkit-line-clamp: <span class="number">3</span>;   <span class="comment">//3行</span></span><br><span class="line">		overflow: hidden;     </span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="right">属性</th>
<th align="right">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="right">horizontal</td>
<td align="right">在水平行中从左向右排列子元素。</td>
</tr>
<tr>
<td align="right">vertical</td>
<td align="right">从上向下垂直排列子元素。</td>
</tr>
<tr>
<td align="right">inline-axis</td>
<td align="right">沿着行内轴来排列子元素（映射为 horizontal）。</td>
</tr>
<tr>
<td align="right">block-axis</td>
<td align="right">沿着块轴来排列子元素（映射为 vertical）。</td>
</tr>
<tr>
<td align="right">inherit</td>
<td align="right">应该从父元素继承 box-orient 属性的值。</td>
</tr>
</tbody></table>
<h2 id="table表格"><a href="#table表格" class="headerlink" title="table表格"></a>table表格</h2><h3 id="table换行变色"><a href="#table换行变色" class="headerlink" title="table换行变色"></a>table换行变色</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tr:nth-child(odd/even) &#123;</span><br><span class="line">            background: #f1f1f1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="table-表格行间距"><a href="#table-表格行间距" class="headerlink" title="table 表格行间距"></a>table 表格行间距</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 别在css里调 没用 表头也是</span></span><br><span class="line">&lt;td width=<span class="string">"5%"</span>&gt;</span><br><span class="line">&lt;td width=<span class="string">"20%"</span></span><br><span class="line">&lt;td width=<span class="string">"5%"</span>&gt;</span><br><span class="line">&lt;td width=<span class="string">"50%"</span></span><br></pre></td></tr></table></figure>

<h2 id="css旋转"><a href="#css旋转" class="headerlink" title="css旋转"></a>css旋转</h2><table>
<thead>
<tr>
<th align="right">属性</th>
<th align="right">功能</th>
</tr>
</thead>
<tbody><tr>
<td align="right">none</td>
<td align="right">定义不进行转换。</td>
</tr>
<tr>
<td align="right">matrix(n,n,n,n,n,n)</td>
<td align="right">定义 2D 转换，使用六个值的矩阵。</td>
</tr>
<tr>
<td align="right">matrix3d(n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n)</td>
<td align="right">定义 3D 转换，使用 16 个值的 4x4 矩阵。</td>
</tr>
<tr>
<td align="right">translate(x,y)</td>
<td align="right">定义 2D 转换。</td>
</tr>
<tr>
<td align="right">translate3d(x,y,z)</td>
<td align="right">定义 3D 转换。</td>
</tr>
<tr>
<td align="right">translateX(x)</td>
<td align="right">定义转换，只是用 X 轴的值。</td>
</tr>
<tr>
<td align="right">translateY(y)</td>
<td align="right">定义转换，只是用 Y 轴的值。</td>
</tr>
<tr>
<td align="right">translateZ(z)</td>
<td align="right">定义 3D 转换，只是用 Z 轴的值。</td>
</tr>
<tr>
<td align="right">scale(x[,y]?)</td>
<td align="right">定义 2D 缩放转换。</td>
</tr>
<tr>
<td align="right">scale3d(x,y,z)</td>
<td align="right">定义 3D 缩放转换。</td>
</tr>
<tr>
<td align="right">scaleX(x)</td>
<td align="right">通过设置 X 轴的值来定义缩放转换。</td>
</tr>
<tr>
<td align="right">scaleY(y)</td>
<td align="right">通过设置 Y 轴的值来定义缩放转换。</td>
</tr>
<tr>
<td align="right">scaleZ(z)</td>
<td align="right">通过设置 Z 轴的值来定义 3D 缩放转换。</td>
</tr>
<tr>
<td align="right">rotate(angle)</td>
<td align="right">定义 2D 旋转，在参数中规定角度。</td>
</tr>
<tr>
<td align="right">rotate3d(x,y,z,angle)</td>
<td align="right">定义 3D 旋转。</td>
</tr>
<tr>
<td align="right">rotateX(angle)</td>
<td align="right">垂直翻转</td>
</tr>
<tr>
<td align="right">rotateY(angle)</td>
<td align="right">水平对置</td>
</tr>
<tr>
<td align="right">rotateZ(angle)</td>
<td align="right">定义沿着 Z 轴的 3D 旋转。</td>
</tr>
<tr>
<td align="right">skew(x-angle,y-angle)</td>
<td align="right">定义沿着 X 和 Y 轴的 2D 倾斜转换。</td>
</tr>
<tr>
<td align="right">skewX(angle)</td>
<td align="right">捏两个对角横拉。</td>
</tr>
<tr>
<td align="right">skewY(angle)</td>
<td align="right">定义沿着 Y 轴的 2D 倾斜转换。</td>
</tr>
<tr>
<td align="right">perspective(n)</td>
<td align="right">为 3D 转换元素定义透视视图。</td>
</tr>
</tbody></table>
<h2 id="对象变数组-键值都有！"><a href="#对象变数组-键值都有！" class="headerlink" title="对象变数组(键值都有！)"></a>对象变数组(键值都有！)</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123;<span class="attr">b</span>: <span class="number">1</span>, <span class="attr">c</span>: <span class="number">2</span>&#125;;</span><br><span class="line"><span class="built_in">Object</span>.keys(a) = [b, c]</span><br><span class="line"><span class="built_in">Object</span>.values(a) = [<span class="number">1</span>, <span class="number">2</span>]</span><br></pre></td></tr></table></figure>

<h2 id="数组倒置"><a href="#数组倒置" class="headerlink" title="数组倒置"></a>数组倒置</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.reserve()</span><br></pre></td></tr></table></figure>


<h2 id="CDN引入vant组件"><a href="#CDN引入vant组件" class="headerlink" title="CDN引入vant组件"></a>CDN引入vant组件</h2><p>1.可以通过全局变量vant访问到所有组件。</p>
<p>cdn里不支持直接写lazyload  要用v-lazy加载</p>
<p>关于Vant ui 全局引入的一个问题 vant Failed to resolve directive: lazy<br>项目中全局引入Vant后使用图片懒加载组件会有一个问题，v-lazy自定义指令没有注册</p>
<p>import Vant,{Lazyload} from ‘vant’;<br>// options 为可选参数，无则不传<br>Vue.use(Lazyload);<br>Vue.use(Vant);</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 引入样式文件 --&gt;</span><br><span class="line">&lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"https://cdn.jsdelivr.net/npm/vant@2.5/lib/index.css"</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 引入 Vue 和 Vant 的 JS 文件 --&gt;</span><br><span class="line">&lt;script src=<span class="string">"https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;script src="https:/</span><span class="regexp">/cdn.jsdelivr.net/</span>npm/vant@<span class="number">2.5</span>/lib/vant.min.js<span class="string">"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &lt;div id="</span>app<span class="string">"&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">	&lt;script type="</span>text/javascript<span class="string">"&gt;</span></span><br><span class="line"><span class="string">		var Vue = window.Vue;</span></span><br><span class="line"><span class="string">		var vant = window.vant;</span></span><br><span class="line"><span class="string">		// 注册组件</span></span><br><span class="line"><span class="string">		Vue.use(vant);</span></span><br><span class="line"><span class="string">	&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>
<p>在vue.config.js中设置’vant’: ‘vant’, </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">	configureWebpack: &#123;</span><br><span class="line">		externals: &#123;</span><br><span class="line">			<span class="string">'echarts'</span>: <span class="string">'echarts'</span>, <span class="comment">// 配置使用CDN</span></span><br><span class="line">			<span class="string">'vant'</span>: <span class="string">'vant'</span>, </span><br><span class="line">			vue: <span class="string">'Vue'</span>,</span><br><span class="line">		&#125;</span><br><span class="line">	  &#125;,</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<h2 id="keepalive-的exclude"><a href="#keepalive-的exclude" class="headerlink" title="keepalive 的exclude"></a>keepalive 的exclude</h2><p>一直失效觉得exclude的内容要是路由名字 ，其实是每个组件里export default的name</p>
<h2 id="JS基础dom操作：增删类名"><a href="#JS基础dom操作：增删类名" class="headerlink" title="JS基础dom操作：增删类名"></a>JS基础dom操作：增删类名</h2><p>主要是classList，没有写就直接把节点删了！</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">添加：<span class="built_in">document</span>.getElementById(<span class="string">"id"</span>).classList.add(<span class="string">"类名"</span>)；</span><br><span class="line"></span><br><span class="line">删除：<span class="built_in">document</span>.getElementById(<span class="string">"id"</span>).classList.remove(<span class="string">"类名"</span>)；</span><br></pre></td></tr></table></figure>

<h2 id="VUE子路由"><a href="#VUE子路由" class="headerlink" title="VUE子路由"></a>VUE子路由</h2><p>在爹路由上的children写入新路由 ， 不加/ 可以自动拼接爹路由的前缀<br>然后 在爹路由下开一个router-view就完事</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">      path: <span class="string">'/me'</span>,</span><br><span class="line">      name: <span class="string">'Me'</span>,</span><br><span class="line">      component: Me,</span><br><span class="line">      children: [</span><br><span class="line">        &#123;</span><br><span class="line">          path: <span class="string">'collection'</span>,<span class="comment">//以“/”开头的嵌套路径会被当作根路径，所以子路由上不用加“/”;在生成路由时，</span></span><br><span class="line">		  <span class="comment">//主路由上的path会被自动添加到子路由之前，所以子路由上的path不用在重新声明主路由上的path了。</span></span><br><span class="line">          name: <span class="string">'Collection'</span>,</span><br><span class="line">          component: Collection</span><br><span class="line">        &#125;,</span><br></pre></td></tr></table></figure>

<h2 id="mapState的2种写法"><a href="#mapState的2种写法" class="headerlink" title="mapState的2种写法"></a>mapState的2种写法</h2><h3 id="可以获取到state的-属性的-子属性"><a href="#可以获取到state的-属性的-子属性" class="headerlink" title="可以获取到state的 属性的 子属性"></a>可以获取到state的 属性的 子属性</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">...mapState(&#123;</span><br><span class="line">              save:<span class="function"><span class="params">state</span> =&gt;</span> state.save.abc.d<span class="comment">//使用ES6的箭头函数来给count赋值</span></span><br><span class="line">          &#125;)</span><br></pre></td></tr></table></figure>
<h3 id="直接获取state的子-无法拿到底下的"><a href="#直接获取state的子-无法拿到底下的" class="headerlink" title="直接获取state的子 无法拿到底下的"></a>直接获取state的子 无法拿到底下的</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">...mapState([<span class="string">' save'</span>])</span><br></pre></td></tr></table></figure>

<h2 id="cli4-按需引入element-ui"><a href="#cli4-按需引入element-ui" class="headerlink" title="cli4+按需引入element-ui"></a>cli4+按需引入element-ui</h2><p>cli4项目=&gt;babel.config.js<br>不是.babelrc！！</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">presets: [<span class="string">"@vue/cli-plugin-babel/preset"</span>],</span><br><span class="line"> plugins: [</span><br><span class="line">   [  </span><br><span class="line">     <span class="string">"component"</span>,</span><br><span class="line">     &#123;</span><br><span class="line">        libraryName: <span class="string">"element-ui"</span>,</span><br><span class="line">        styleLibraryName: <span class="string">"theme-chalk"</span></span><br><span class="line">    &#125;</span><br><span class="line">   ]</span><br></pre></td></tr></table></figure>
<p>然后在main.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Button, Select &#125; <span class="keyword">from</span> <span class="string">'element-ui'</span>;</span><br><span class="line"></span><br><span class="line">Vue.component(Button.name, Button);</span><br><span class="line">Vue.component(Select.name, Select);</span><br><span class="line">或写为</span><br><span class="line"> Vue.use(Button)</span><br><span class="line"> Vue.sue(Select)</span><br></pre></td></tr></table></figure>

<h2 id="上传图片之前端"><a href="#上传图片之前端" class="headerlink" title="上传图片之前端"></a>上传图片之前端</h2><p>配合 vant上传组件 </p>
<h3 id="FormData-不能用打印查看-要看里面有什么好东西"><a href="#FormData-不能用打印查看-要看里面有什么好东西" class="headerlink" title="FormData 不能用打印查看 要看里面有什么好东西"></a>FormData 不能用打印查看 要看里面有什么好东西</h3><h4 id="get-“key”-获取到该key的第一个值"><a href="#get-“key”-获取到该key的第一个值" class="headerlink" title="get(“key”)  获取到该key的第一个值"></a>get(“key”)  获取到该key的第一个值</h4><h4 id="getAll-“key”-获取到该key的所有值"><a href="#getAll-“key”-获取到该key的所有值" class="headerlink" title="getAll(“key”) 获取到该key的所有值"></a>getAll(“key”) 获取到该key的所有值</h4><h4 id="entries-“key”-遍历FormData对象中的所有键值对"><a href="#entries-“key”-遍历FormData对象中的所有键值对" class="headerlink" title="entries(“key”) 遍历FormData对象中的所有键值对"></a>entries(“key”) 遍历FormData对象中的所有键值对</h4><h3 id="FormData不能塞入数组-要放就一个个放进去-把名字也得编号，不然后端收到了也打印不出来"><a href="#FormData不能塞入数组-要放就一个个放进去-把名字也得编号，不然后端收到了也打印不出来" class="headerlink" title="FormData不能塞入数组 要放就一个个放进去 把名字也得编号，不然后端收到了也打印不出来"></a>FormData不能塞入数组 要放就一个个放进去 把名字也得编号，不然后端收到了也打印不出来</h3><h4 id="此处’imgs’-p-很重要-若无后端实测出bug读不到属性-前台可用getAll打印出来"><a href="#此处’imgs’-p-很重要-若无后端实测出bug读不到属性-前台可用getAll打印出来" class="headerlink" title="此处’imgs’+p 很重要  若无后端实测出bug读不到属性/前台可用getAll打印出来"></a>此处’imgs’+p 很重要  若无后端实测出bug读不到属性/前台可用getAll打印出来</h4><p>属性名imgs1 、 imgs2<br>或者写为↓<br>formData.append(“key[]”,”value1”);<br>formData.append(“key[]”,”value2”);</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> p=<span class="number">0</span>;p&lt;files.length;p++)&#123; <span class="comment">//循环放入Form中 不然数组塞不进FORM  </span></span><br><span class="line">		Form.append(<span class="string">'imgs'</span>+p,files[p].file)</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> files=<span class="keyword">this</span>.banner</span><br><span class="line">	<span class="keyword">var</span> Form =<span class="keyword">new</span> FormData()</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">let</span> p=<span class="number">0</span>;p&lt;files.length;p++)&#123; <span class="comment">//循环放入Form中 不然数组塞不进FORM  </span></span><br><span class="line">		Form.append(<span class="string">'imgs'</span>+p,files[p].file)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">console</span>.log( Form.getAll(<span class="string">"imgs"</span>))</span><br><span class="line">		<span class="keyword">this</span>.$store.dispatch(<span class="string">'app/AddSwiper'</span>, Form).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">this</span>.$notify(&#123;</span><br><span class="line">				type: <span class="string">'success'</span>,</span><br><span class="line">				message: <span class="string">'新增成功，可在教练中心查看'</span></span><br><span class="line">			&#125;)</span><br><span class="line">		&#125;)</span><br></pre></td></tr></table></figure>
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/02/28/%E5%B7%B2%E9%83%A8%E7%BD%B2%E9%A1%B9%E7%9B%AE/" rel="next" title="已部署项目">
                <i class="fa fa-chevron-left"></i> 已部署项目
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/03/01/%E9%9D%A2%E8%AF%95%E9%A2%98/" rel="prev" title="面试题">
                面试题 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">John Doe</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%20%7C%7C%20archive">
              
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#VUE中监听输入框对焦"><span class="nav-number">1.</span> <span class="nav-text">VUE中监听输入框对焦</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#取消移动端输入框-按钮默认样式"><span class="nav-number">2.</span> <span class="nav-text">取消移动端输入框&#x2F;按钮默认样式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#全局变量"><span class="nav-number">3.</span> <span class="nav-text">全局变量</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#因为接口的域名在上云后需要变动，在数据库中修改又麻烦，干脆后台在传图片地址的时候-只返回-除了域名的后半段路径"><span class="nav-number">3.1.</span> <span class="nav-text">因为接口的域名在上云后需要变动，在数据库中修改又麻烦，干脆后台在传图片地址的时候 只返回[除了域名的后半段路径]</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#如何设置全局变量"><span class="nav-number">3.2.</span> <span class="nav-text">如何设置全局变量</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#watch属性监听VUEX中的内容"><span class="nav-number">4.</span> <span class="nav-text">watch属性监听VUEX中的内容</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#因为页面加载的时候比vuex-dispatch走一圈直到保存到state下来快多了"><span class="nav-number">4.1.</span> <span class="nav-text">因为页面加载的时候比vuex dispatch走一圈直到保存到state下来快多了</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#所以-在进news详情子组件时，还无法分发state中的news信息"><span class="nav-number">4.2.</span> <span class="nav-text">所以 在进news详情子组件时，还无法分发state中的news信息</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#在需要数据的组件中使用-watch-监听news是否改变-gt-若改变重新调用数据分发事件-驱动DOM重新加载"><span class="nav-number">4.3.</span> <span class="nav-text">在需要数据的组件中使用[watch]监听news是否改变&#x3D;&#x3D;&gt;若改变重新调用数据分发事件 驱动DOM重新加载</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#发布帖子-★-★-★-★-★"><span class="nav-number">5.</span> <span class="nav-text">发布帖子  ★ ★ ★ ★ ★</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#node需要express-fileUpload中间件"><span class="nav-number">5.1.</span> <span class="nav-text">node需要express-fileUpload中间件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#前端页面中使用-vant-的-Uploader组件链接"><span class="nav-number">5.2.</span> <span class="nav-text">前端页面中使用[vant]的 Uploader组件链接</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#node中设置全局变量"><span class="nav-number">6.</span> <span class="nav-text">node中设置全局变量</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#线上线下各备一个"><span class="nav-number">6.1.</span> <span class="nav-text">线上线下各备一个</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#对象转数组"><span class="nav-number">7.</span> <span class="nav-text">对象转数组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#手写上拉加载"><span class="nav-number">8.</span> <span class="nav-text">手写上拉加载</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#逻辑"><span class="nav-number">8.1.</span> <span class="nav-text">逻辑</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#判断是否到底"><span class="nav-number">8.2.</span> <span class="nav-text">判断是否到底</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git上传"><span class="nav-number">9.</span> <span class="nav-text">git上传</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#新建项目"><span class="nav-number">9.1.</span> <span class="nav-text">新建项目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#已有的项目"><span class="nav-number">9.2.</span> <span class="nav-text">已有的项目</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#axios响应拦截错误码"><span class="nav-number">10.</span> <span class="nav-text">axios响应拦截错误码</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#直接在axios将错误拦截下来，关口前移；总比在action里用promise返回reject时尚一点"><span class="nav-number">10.1.</span> <span class="nav-text">直接在axios将错误拦截下来，关口前移；总比在action里用promise返回reject时尚一点</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#局部过滤器fliter"><span class="nav-number">11.</span> <span class="nav-text">局部过滤器fliter</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#css省略超出字用…代替"><span class="nav-number">12.</span> <span class="nav-text">css省略超出字用…代替</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#table表格"><span class="nav-number">13.</span> <span class="nav-text">table表格</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#table换行变色"><span class="nav-number">13.1.</span> <span class="nav-text">table换行变色</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#table-表格行间距"><span class="nav-number">13.2.</span> <span class="nav-text">table 表格行间距</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#css旋转"><span class="nav-number">14.</span> <span class="nav-text">css旋转</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#对象变数组-键值都有！"><span class="nav-number">15.</span> <span class="nav-text">对象变数组(键值都有！)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数组倒置"><span class="nav-number">16.</span> <span class="nav-text">数组倒置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CDN引入vant组件"><span class="nav-number">17.</span> <span class="nav-text">CDN引入vant组件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#keepalive-的exclude"><span class="nav-number">18.</span> <span class="nav-text">keepalive 的exclude</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JS基础dom操作：增删类名"><span class="nav-number">19.</span> <span class="nav-text">JS基础dom操作：增删类名</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#VUE子路由"><span class="nav-number">20.</span> <span class="nav-text">VUE子路由</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#mapState的2种写法"><span class="nav-number">21.</span> <span class="nav-text">mapState的2种写法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#可以获取到state的-属性的-子属性"><span class="nav-number">21.1.</span> <span class="nav-text">可以获取到state的 属性的 子属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#直接获取state的子-无法拿到底下的"><span class="nav-number">21.2.</span> <span class="nav-text">直接获取state的子 无法拿到底下的</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#cli4-按需引入element-ui"><span class="nav-number">22.</span> <span class="nav-text">cli4+按需引入element-ui</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#上传图片之前端"><span class="nav-number">23.</span> <span class="nav-text">上传图片之前端</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#FormData-不能用打印查看-要看里面有什么好东西"><span class="nav-number">23.1.</span> <span class="nav-text">FormData 不能用打印查看 要看里面有什么好东西</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#get-“key”-获取到该key的第一个值"><span class="nav-number">23.1.1.</span> <span class="nav-text">get(“key”)  获取到该key的第一个值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#getAll-“key”-获取到该key的所有值"><span class="nav-number">23.1.2.</span> <span class="nav-text">getAll(“key”) 获取到该key的所有值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#entries-“key”-遍历FormData对象中的所有键值对"><span class="nav-number">23.1.3.</span> <span class="nav-text">entries(“key”) 遍历FormData对象中的所有键值对</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#FormData不能塞入数组-要放就一个个放进去-把名字也得编号，不然后端收到了也打印不出来"><span class="nav-number">23.2.</span> <span class="nav-text">FormData不能塞入数组 要放就一个个放进去 把名字也得编号，不然后端收到了也打印不出来</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#此处’imgs’-p-很重要-若无后端实测出bug读不到属性-前台可用getAll打印出来"><span class="nav-number">23.2.1.</span> <span class="nav-text">此处’imgs’+p 很重要  若无后端实测出bug读不到属性&#x2F;前台可用getAll打印出来</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
